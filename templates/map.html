<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8" />
    <title>RTK Rover</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin />
    <link rel="stylesheet" href="/static/css/style.css" />
</head>
<body>
        <header class="app-header">
            <h1>RTK Rover</h1>
            <div class="status-bar">
                <span id="statusMode" class="badge">--</span>
                <span id="statusFix" class="badge">--</span>
                <span id="statusSat" class="badge">Sats: --</span>
                <span id="statusHdop" class="badge">HDOP: --</span>
            </div>
        </header>
            <div id="rtkBar" class="rtk-bar rtk-unknown">RTK: brak danych</div>
        <main class="layout">
            <aside class="sidebar" id="sidebar">
                <section class="panel">
                    <h2>Pozycja</h2>
                    <div class="pos-line">Lat: <span id="lat">--</span></div>
                    <div class="pos-line">Lon: <span id="lon">--</span></div>
                    <div class="pos-line">Alt: <span id="alt">--</span> m</div>
                    <div class="pos-line">Czas: <span id="time">--</span></div>
                    <div class="pos-line">Prƒôdko≈õƒá: <span id="speed">--</span> kn</div>
                    <div class="pos-line">Kurs: <span id="heading">--</span>¬∞</div>
                    <div class="actions">
                        <button id="btnCenter">Centruj</button>
                        <button id="btnToggleTrack" class="active">Rysuj ≈õlad</button>
                        <button id="btnClearTrack">Czy≈õƒá ≈õlad</button>
                    </div>
                </section>
                <section class="panel">
                    <h2>Punkty</h2>
                    <div class="waypoint-actions">
                        <input id="wpName" type="text" placeholder="Nazwa punktu" />
                        <button id="btnAddWp">Dodaj</button>
                        <button id="btnToggleClickAdd" class="btn-toggle" title="Prze≈ÇƒÖcz tryb dodawania klikniƒôciem na mapƒô">
                            üñ±Ô∏è Klik
                        </button>
                        <button id="btnExportWp">Export</button>
                        <button id="btnClearWp">Czy≈õƒá</button>
                    </div>
                    <ul id="waypointList" class="waypoints"></ul>
                </section>
                <section class="panel">
                    <h2>üöÄ Nawigacja</h2>
                    <div class="nav-status" id="navStatus">
                        <p class="status-text">System nawigacji: <span id="navSystemStatus">sprawdzanie...</span></p>
                        <button id="btnCheckRover" style="margin-top: 8px; padding: 4px 8px; font-size: 12px;">
                            üîÑ Sprawd≈∫ ponownie
                        </button>
                    </div>
                    <div class="nav-controls">
                        <button id="btnStartNav" class="btn-start" title="Rozpocznij nawigacjƒô po dodanych punktach">
                            ‚ñ∂Ô∏è START
                        </button>
                        <button id="btnPauseNav" class="btn-pause" title="Wstrzymaj nawigacjƒô (mo≈ºna wznowiƒá)">
                            ‚è∏Ô∏è PAUZA
                        </button>
                        <button id="btnResumeNav" class="btn-resume" title="Wzn√≥w wstrzymanƒÖ nawigacjƒô">
                            ‚ñ∂Ô∏è WZN√ìW
                        </button>
                    </div>
                    <div class="nav-controls" style="margin-top: 8px;">
                        <button id="btnEmergencyStop" class="btn-emergency" title="Awaryjne zatrzymanie (ESC) - pauzuje nawigacjƒô">
                            üõë STOP
                        </button>
                        <button id="btnCancelNav" class="btn-cancel" title="Anuluj nawigacjƒô i wyczy≈õƒá wszystko">
                            ‚ùå ANULUJ
                        </button>
                    </div>
                    <div class="nav-info">
                        <small>üí° START = rozpocznij | PAUZA = wstrzymaj | WZN√ìW = kontynuuj</small>
                        <br>
                        <small>üõë STOP = awaryjne zatrzymanie (mo≈ºna wznowiƒá)</small>
                        <br>
                        <small>‚ùå ANULUJ = wyczy≈õƒá wszystko i zako≈Ñcz</small>
                        <br>
                        <small>‚ö° "Go" (‚§¥) przy punkcie = natychmiastowa nawigacja do jednego punktu</small>
                        <br>
                        <small>‚ö†Ô∏è Klawisz ESC = awaryjne zatrzymanie</small>
                    </div>
                </section>
            </aside>
            <div class="map-container">
                <div id="map"></div>
            </div>
        </main>
    <footer class="app-footer">&copy; Rover RTK</footer>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin></script>
    <script src="/static/js/map.js"></script>
</body>
</html>
